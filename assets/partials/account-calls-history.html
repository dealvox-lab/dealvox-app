<!-- ==================== CALLS & LIMITS ==================== -->

<!-- Card 1: Subscription limits and spendings -->
<div class="card">
<section class="text-block" id="usageSummaryCard">
  <h2>Subscription limits and spendings</h2>

  <!-- SUBSCRIPTION CARD (shown only if user has active sub) -->
<div
  id="subscriptionCard"
  class="card card-profile"
  style="margin-top:18px; display:none;"
>
  <p class="pricing-sub">Current plan and usage.</p>

  <div class="sub-layout">
    <div>
      <div class="sub-label">Plan</div>
      <div class="sub-plan-name" id="subPlanName">—</div>
      <div class="sub-plan-type" id="subPlanType">—</div>
    </div>

    <div>
      <div class="sub-label">Price</div>
      <div class="sub-price" id="subPrice">—</div>
    </div>

    <div>
      <div class="sub-label">Minutes</div>
      <div class="sub-minutes" id="subMinutesTotal">—</div>
      <div class="sub-minutes-detail">
        Used <span id="subMinutesSpent">0</span> · Left
        <span id="subMinutesLeft">0</span>
      </div>
    </div>

    <div>
      <div class="sub-label">Started</div>
      <div class="sub-date" id="subStartDate">—</div>
      <div class="sub-status" id="subStatus">—</div>
    </div>
  </div>
</div>
  <div style="margin-top: 14px; display:flex; justify-content:flex;">
    <button class="btn-primary" id="billingChangePlanBtn">Upgrade plan</button>
  </div>
</section>
</div>

<!-- Card 2: Call history & filters -->
<div class="card" style="margin-top:32px">
<section class="text-block" id="callHistoryCard">
  <h2 style="margin-bottom: 10px;">Call history</h2>

  <!-- Filters row -->
  <div class="call-filters-row" style="display:flex; flex-wrap:wrap; gap:8px; align-items:flex-end; margin-bottom:12px;">
    <div>
      <label for="filterMonth" style="font-size:0.8rem; color:#6b7280; display:block;">Month</label>
      <input type="month" id="filterMonth" class="input" style="max-width: 170px;">
    </div>

    <div>
      <label for="filterEndReason" style="font-size:0.8rem; color:#6b7280; display:block;">End reason</label>
      <select id="filterEndReason" class="input" style="max-width: 170px;">
        <option value="">All</option>
        <option value="user_hangup">User hangup</option>
        <option value="agent_hangup">Agent hangup</option>
        <option value="no_answer">No answer</option>
        <option value="voicemail">Voicemail</option>
      </select>
    </div>

    <div>
      <label for="filterSentiment" style="font-size:0.8rem; color:#6b7280; display:block;">User sentiment</label>
      <select id="filterSentiment" class="input" style="max-width: 170px;">
        <option value="">All</option>
        <option value="Positive">Positive</option>
        <option value="Neutral">Neutral</option>
        <option value="Negative">Negative</option>
      </select>
    </div>

    <div>
      <label for="filterOutcome" style="font-size:0.8rem; color:#6b7280; display:block;">Session outcome</label>
      <select id="filterOutcome" class="input" style="max-width: 170px;">
        <option value="">All</option>
        <option value="success">Success</option>
        <option value="no_close">No close</option>
      </select>
    </div>

    <div style="margin-left:auto; display:flex; gap:8px;">
      <button id="callFiltersApplyBtn" class="btn-primary">
        Apply filters
      </button>
      <button id="callFiltersResetBtn" class="btn-secondary" style="color:#FF0000;">
        Reset
      </button>
    </div>
  </div>

  <!-- Table -->
  <div style="overflow-x:auto;">
    <table style="width:100%; border-collapse:collapse; font-size:0.85rem;">
      <thead>
        <tr style="text-align:left; border-bottom:1px solid #e5e7eb;">
          <th style="padding:6px 4px;">Time</th>
          <th style="padding:6px 4px;">Duration</th>
          <th style="padding:6px 4px;">Cost ($)</th>
          <th style="padding:6px 4px;">End reason</th>
          <th style="padding:6px 4px;">Status</th>
          <th style="padding:6px 4px;">User sentiment</th>
          <th style="padding:6px 4px;">Session outcome</th>
          <th style="padding:6px 4px;">Recording</th>
        </tr>
      </thead>
      <tbody id="callHistoryBody">
        <!-- rows injected by JS -->
      </tbody>
    </table>
  </div>
</section>
</div>
