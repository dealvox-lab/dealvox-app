<!-- ===================== CALLS & LIMITS – CALL HISTORY ===================== -->

<section id="callHistoryCard" class="calls-history-section">
  <div class="calls-history-inner">
    <div class="calls-header">
      <div class="calls-header-left">
        <h2>Call history</h2>
        <p>Track every assistant call with cost, sentiment, and outcomes in one place.</p>
      </div>
      <!-- Filters: inline & compact -->
      <div class="calls-filters">

        <!-- Month-Year Filter -->
        <div class="calls-filter">
          <label for="filterMonth">Month – Year</label>
          <input type="month" id="filterMonth" class="input">
        </div>

        <!-- End Reason Filter -->
        <div class="calls-filter">
          <label for="filterEndReason">End reason</label>
          <select id="filterEndReason" class="input">
            <option value="">All</option>
            <option value="user_hangup">User hangup</option>
            <option value="agent_hangup">Agent hangup</option>
            <option value="timeout">Timeout</option>
            <option value="error">Error</option>
          </select>
        </div>

        <!-- User Sentiment Filter -->
        <div class="calls-filter">
          <label for="filterSentiment">User sentiment</label>
          <select id="filterSentiment" class="input">
            <option value="">All</option>
            <option value="Positive">Positive</option>
            <option value="Neutral">Neutral</option>
            <option value="Negative">Negative</option>
          </select>
        </div>

        <!-- Session Outcome Filter -->
        <div class="calls-filter">
          <label for="filterOutcome">Session outcome</label>
          <select id="filterOutcome" class="input">
            <option value="">All</option>
            <option value="appointment">Appointment</option>
            <option value="payment_link">Payment link sent</option>
            <option value="warm_transfer">Warm transfer</option>
            <option value="qualified_lead">Qualified lead</option>
            <option value="voicemail">Voicemail</option>
          </select>
        </div>

      </div>
    </div>

    <!-- Full-width “sheet” table -->
    <div class="calls-table-wrap">
      <table class="calls-table" id="callHistoryTable">
        <thead>
          <tr>
            <th>Time</th>
            <th>Duration</th>
            <th>Cost</th>
            <th>End reason</th>
            <th>Session status</th>
            <th>User sentiment</th>
            <th>Outcome</th>
            <th>Recording</th>
          </tr>
        </thead>
        <tbody id="callHistoryBody">
          <!-- Default state, removed once JS renders real data -->
          <tr class="calls-table-empty">
            <td colspan="8">No calls yet for this assistant.</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination (buttons updated) -->
    <div class="calls-pagination">
      <button class="calls-btn secondary" id="prevPage">← Prev</button>
      <span class="calls-page-index" id="pageIndex">1</span>
      <button class="calls-btn" id="nextPage">Next →</button>
    </div>

  </div>
</section>
