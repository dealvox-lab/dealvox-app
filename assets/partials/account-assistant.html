<div class="card">
  <!-- STEP 1: Initial deploy state (no assistant yet) -->
  <section id="assistantInitial" class="asst-section">
    <h3 style="margin-top:0;">Deploy your assistant</h3>
    <p class="muted" style="font-size:0.85rem;margin-bottom:14px;">
      Set up your AI agent basics. We’ll deploy the model and then you can fine-tune details in the assistant settings.
    </p>

    <form id="assistantDeployForm">
      <div class="grid-2">
        <!-- LEFT COLUMN -->
        <div>
          <div class="field">
            <label for="asstNewName">Agent name</label>
            <input id="asstNewName" class="input" placeholder="Jake">
          </div>

          <div class="field">
            <label for="asstNewType">Agent type</label>
            <select id="asstNewType" class="input">
              <option value="conversation_flow_381392a33119">The Empathizer</option>
              <option value="conversation_flow_381392a33119">The Challenger</option>
              <option value="conversation_flow_381392a33119">The Driver</option>
              <option value="conversation_flow_381392a33119">The Analyst</option>
              <option value="conversation_flow_381392a33119">The Storyteller</option>
            </select>
          </div>

          <div class="field">
            <label for="asstNewVoice">Agent voice</label>
            <select id="asstNewVoice" class="input">
              <option value='11labs-Billy'>Billy - male, young</option>
              <option value='11labs-Lily'>Lily - female, young</option>
              <option value='11labs-Marissa'>Marissa - female, young</option>
              <option value='11labs-Bing'>Bing - male, young</option>
              <option value='11labs-Jenny'>Jenny - female, young</option>
              <option value='11labs-Lucas'>Lucas - male, middle-aged</option>
              <option value='11labs-Brian'>Brian - male, young</option>
              <option value='11labs-Kate'>Kate - female, middle-aged</option>
              <option value='11labs-Jason'>Jason - male, young</option>
              <option value='11labs-Ethan'>Ethan - male, young</option>
              <option value='11labs-Paul'>Paul - male, old</option>
              <option value='11labs-John'>John - male, middle-aged</option>
              <option value='11labs-Adrian'>Adrian - male, young</option>
              <option value='11labs-Gilfoy'>Gilfoy - male, middle-aged</option>
              <option value='11labs-Zuri'>Zuri - female, old</option>
              <option value='11labs-Steve'>Steve - male, old</option>
              <option value='11labs-Grace'>Grace - female, middle-aged</option>
              <option value='11labs-Chloe'>Chloe - female, young</option>
              <option value='11labs-Max'>Max - male, middle-aged</option>
              <option value='11labs-Anna'>Anna - female, young</option>
              <option value='11labs-Julia'>Julia - female, middle-aged</option>
              <option value='11labs-victoria'>Victoria - female, young</option>
              <option value='11labs-Susan'>Susan - female, middle-aged</option>
              <option value='11labs-Emily'>Emily - female, middle-aged</option>
              <option value='11labs-Kathrine'>Kathrine - female, middle-aged</option>
              <option value='11labs-Andrew'>Andrew - male, young</option>
              <option value='11labs-Nina'>Nina - female, middle-aged</option>
              <option value='11labs-Myra'>Myra - female, young</option>
              <option value='11labs-Evie'>Evie - female, young</option>
              <option value='11labs-James'>James - male, old</option>
              <option value='11labs-Cimo'>Cimo - female, middle-aged</option>
              <option value='11labs-Ryan'>Ryan - male, young</option>
              <option value='11labs-Mia'>Mia - female, middle-aged</option>
            </select>
          </div>
        </div>

        <!-- RIGHT COLUMN: no Intro anymore -->
        <div>
          <p class="muted" style="font-size:0.85rem;margin: 30px 50px 0;">
            When you click <strong>Deploy agent</strong>, we’ll trigger a backend deployment flow
            for this user and configuration. The deployment will take 3-4 minutes, and you'll be redirected to the assistant fine-tuning section after that.
          </p>
        </div>
      </div>
  <div style="margin-top:18px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
  <button type="submit" class="btn-primary" id="asstDeployBtn">
    Deploy assistant
  </button>

  <!-- Loader + note, hidden by default -->
  <span id="asstDeployLoader"
        style="display:none;align-items:center;gap:8px;">
    <span class="spinner"></span>
    <span id="asstDeployNote"
          class="muted"
          style="font-size:0.85rem;">
      Customizing your model…
    </span>
  </span>
</div>
    </form>
  </section>
<!-- STEP 2: Manage existing assistant -->
<section id="assistantManage" class="asst-section" hidden>
  <form id="assistantForm">
    <div class="grid-2">
      <!-- LEFT COLUMN -->
      <div>
        <div class="field">
          <label for="asstAgentId">Assistant ID</label>
          <input id="asstAgentId" class="input" readonly>
        </div>

        <div class="field">
          <label for="asstAgentName">Assistant name</label>
          <input id="asstAgentName" class="input">
        </div>

        <div class="field">
          <label for="asstAgentType">Assistant type</label>
          <input id="asstAgentType" class="input" readonly>
        </div>

        <div class="field">
          <label for="asstPhoneNumber">Assistant phone number</label>
          <input id="asstPhoneNumber" class="input" readonly>
          <p id="asstPhoneHint" class="muted" style="font-size:0.8rem;margin-top:4px;" hidden>
            No phone number yet? Buy a number below first.
          </p>
        </div>

        <div class="field">
          <label for="asstAgentVoice">Assistant voice</label>
          <select id="asstAgentVoice" class="input">
            <option value='11labs-Billy'>Billy - male, young</option>
            <option value='11labs-Lily'>Lily - female, young</option>
            <option value='11labs-Marissa'>Marissa - female, young</option>
            <option value='11labs-Bing'>Bing - male, young</option>
            <option value='11labs-Jenny'>Jenny - female, young</option>
            <option value='11labs-Lucas'>Lucas - male, middle-aged</option>
            <option value='11labs-Brian'>Brian - male, young</option>
            <option value='11labs-Kate'>Kate - female, middle-aged</option>
            <option value='11labs-Jason'>Jason - male, young</option>
            <option value='11labs-Ethan'>Ethan - male, young</option>
            <option value='11labs-Paul'>Paul - male, old</option>
            <option value='11labs-John'>John - male, middle-aged</option>
            <option value='11labs-Adrian'>Adrian - male, young</option>
            <option value='11labs-Gilfoy'>Gilfoy - male, middle-aged</option>
            <option value='11labs-Zuri'>Zuri - female, old</option>
            <option value='11labs-Steve'>Steve - male, old</option>
            <option value='11labs-Grace'>Grace - female, middle-aged</option>
            <option value='11labs-Chloe'>Chloe - female, young</option>
            <option value='11labs-Max'>Max - male, middle-aged</option>
            <option value='11labs-Anna'>Anna - female, young</option>
            <option value='11labs-Julia'>Julia - female, middle-aged</option>
            <option value='11labs-victoria'>Victoria - female, young</option>
            <option value='11labs-Susan'>Susan - female, middle-aged</option>
            <option value='11labs-Emily'>Emily - female, middle-aged</option>
            <option value='11labs-Kathrine'>Kathrine - female, middle-aged</option>
            <option value='11labs-Andrew'>Andrew - male, young</option>
            <option value='11labs-Nina'>Nina - female, middle-aged</option>
            <option value='11labs-Myra'>Myra - female, young</option>
            <option value='11labs-Evie'>Evie - female, young</option>
            <option value='11labs-James'>James - male, old</option>
            <option value='11labs-Cimo'>Cimo - female, middle-aged</option>
            <option value='11labs-Ryan'>Ryan - male, young</option>
            <option value='11labs-Mia'>Mia - female, middle-aged</option>
          </select>
        </div>
                <div class="field">
          <label for="asstKnowledgeFile">Knowledge base</label>
          <input id="asstKnowledgeFile" type="file" class="input">
        </div>

        <div class="field">
          <label for="asstWebhookUrl">
            Webhook URL  
            <span class="muted" style="display:block;font-size:0.8rem;margin-top:2px;">
              To get phone call results to your systems.
            </span>
          </label>
          <input id="asstWebhookUrl" class="input">
        </div>

        <div class="field">
          <label for="asstPublished">Is assistant published</label>
          <input id="asstPublished" class="input" readonly>
        </div>
      </div>

      <!-- RIGHT COLUMN -->
      <div>
        <div class="field">
          <label for="asstPrompt">General prompt</label>
          <textarea id="asstPrompt" class="input" rows="12"></textarea>
        </div>

        <div class="field">
          <label for="asstIntroPrompt">Intro</label>
          <textarea id="asstIntroPrompt" class="input" rows="8"></textarea>
        </div>
      </div>
    </div>

    <div style="margin-top:18px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
      <button type="submit" class="btn-primary" id="asstSaveBtn">Save and Publish</button>

      <button type="button" class="btn-secondary" id="asstDeleteBtn">
        <span style="color:#FF0000;">Delete assistant</span>
      </button>

      <span id="asstStatus" class="muted"></span>
    </div>
  </form>
</section>
</div>
<!-- Buy number card -->
<div class="card" id="asstBuyCard" style="margin-top:32px">
  <h3>Buy a phone number</h3>
  <p class="muted" style="font-size:0.85rem;margin-bottom:8px;">
    Get a dedicated U.S. phone number for outbound calls.
  </p>

  <p id="asstBuyNoAsstHint"
     class="muted"
     style="font-size:0.8rem;margin-bottom:10px;"
     hidden>
    Deploy an assistant first to buy a phone number.
  </p>

  <div class="grid-2">
    <div>
      <div class="field">
        <label for="asstNewPhoneArea">Preferred phone number area (US only)</label>
        <select id="asstNewPhoneArea" class="input">
          <option value="">Select an area code…</option>
          <!-- Codes: text = col A, value = col B -->
          <option value="205">Alabama (205)</option>
          <option value="251">Alabama (251)</option>
          <option value="256">Alabama (256)</option>
          <option value="334">Alabama (334)</option>
          <option value="907">Alaska (907)</option>
          <option value="480">Arizona (480)</option>
          <option value="520">Arizona (520)</option>
          <option value="602">Arizona (602)</option>
          <option value="623">Arizona (623)</option>
          <option value="928">Arizona (928)</option>
          <option value="479">Arkansas (479)</option>
          <option value="501">Arkansas (501)</option>
          <option value="870">Arkansas (870)</option>
          <option value="209">California (209)</option>
          <option value="213">California (213)</option>
          <option value="310">California (310)</option>
          <option value="323">California (323)</option>
          <option value="408">California (408)</option>
          <option value="415">California (415)</option>
          <option value="424">California (424)</option>
          <option value="510">California (510)</option>
          <option value="530">California (530)</option>
          <option value="559">California (559)</option>
          <option value="562">California (562)</option>
          <option value="619">California (619)</option>
          <option value="626">California (626)</option>
          <option value="650">California (650)</option>
          <option value="661">California (661)</option>
          <option value="707">California (707)</option>
          <option value="714">California (714)</option>
          <!-- continue in the same pattern for the rest of your CSV rows -->
        </select>
      </div>
    </div>

    <div>
      <p class="muted" style="font-size:0.8rem;">
        Choose a preferred U.S. area code. We'll try to match a number in that region.
      </p>
    </div>

    <div style="margin-top:12px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
      <button type="button" class="btn-secondary" id="asstBuyNumberBtn">
        Buy number
      </button>

      <span id="asstBuyLoader"
            style="display:none;align-items:center;gap:8px;">
        <span class="spinner"></span>
        <span class="muted" style="font-size:0.85rem;">Processing…</span>
      </span>

      <span id="asstBuyStatus" class="muted"></span>
    </div>
  </div>
</div>
